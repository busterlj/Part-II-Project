<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <!-- $Id$ -->
        <meta http-equiv="CONTENT-TYPE" content=
        "text/html; charset=us-ascii" />
        <title>
            Audiveris Example
        </title>
        <meta name="AUTHOR" content="Herv&Atilde;&copy; Bitteur" />
        <meta name="CLASSIFICATION" content=
        "Quick example for Audiveris operation" />
        <meta name="DESCRIPTION" content=
        "Using Audiveris on a short example" />

        <!-- The following links are meant to be solved on my local PC -->
        <!-- The java.net site uses its own style sheets -->
        <link rel="stylesheet" type="text/css" href=
        "../../branding/css/tigris.css" />
        <link rel="stylesheet" type="text/css" href=
        "../../branding/css/inst.css" /><!-- -->
        <!-- Small javascript utilities -->

        <script type="text/javascript" src="util.js">
</script>
        <style type="text/css">
/*<![CDATA[*/
        h1#title {text-align: center}
        h2 {background-color: #d4e4b4 ;}
        /*]]>*/
        </style>

        <style type="text/css">
/*<![CDATA[*/
        img.c8 {width: 380px; height: 118px;}
        img.c7 {width: 152px; height: 150px;}
        img.c6 {width: 133px; height: 147px;}
        img.c5 {width: 192px; height: 147px;}
        img.c4 {width: 422px; height: 190px;}
        img.c3 {width: 296px; height: 103px;}
        img.c2 {width: 296px; height: 152px;}
        span.c1 {font-weight: bold;}
        /*]]>*/
        </style>
    </head>
    <body class="app c4">
        <h1 id="title">
            Audiveris Quick Example
        </h1>
        <p>
            The purpose of this document is to describe a very simple, yet
            realistic, use of Audiveris, so that you can get acquainted with
            some of its major features.
        </p>

        <p>
            <b>Nota</b>: Your own experience on the same music sheet may be
            different from the one depicted here. Some parameters may have
            evolved, for example you may be using a different Neural Network
            definition file and therefore the glyph recognition may produce
            different results. Also, not all snapshots have been updated in
            this documentation, so you may notice slight inconsistencies, such
            as the frame title with a different version number from one picture
            to the other, but this should not impede your understanding of the
            user actions.
        </p>
        <!-- ======================= Initial actions ======================= -->
        <h2>
            <a name="INITIAL" id="INITIAL">Initial actions</a>
        </h2>
        <h3>

            <a name="LAUNCHING" id="LAUNCHING">Launch Audiveris</a>
        </h3>
        <ul>
            <li>First, navigate to the directory where you have extracted the
            Audiveris distribution archive.
            </li>
            <li>Then the easiest way is to double-click on the jar file named
            <b>audiveris-3.3.jar</b> or similar, located in the <b>dist</b>

            subfolder.
            </li>
            <li>You can also use the following command:
                <p>
                    <code>$&gt; java -jar dist/audiveris-3.3.jar</code>
                </p>
                <p>
                    or, if for example you need more memory:
                </p>

                <p>
                    <code>$&gt; java -Xms128m -Xmx256m -jar
                    dist/audiveris-3.3.jar</code>
                </p>
            </li>
        </ul>
        <h3>
            <a name="LOAD" id="LOAD">Load an image</a>

        </h3>
        <p>
            From the <b><i>Sheet</i></b> menu, select the <b><i>Open</i></b>
            item and in the dialog box which appears, select the
            <b>chula.png</b> file located in the <b>examples</b> folder.
        </p>

        <p>
            This loads the image out of the selected file, and the application
            window now looks like the following. Note that the image width
            (2450 pixels) and height (1954 pixels) are listed in the log panel
            at the bottom of the window.
        </p>
        <p>
            <img src="../images/chula-load.png" alt="Chula after load" title=
            "Display just after loading the Chula image file" />
        </p>
        <h3>
            <a name="PARAMS" id="PARAMS">Setting Score Parameters</a>
        </h3>

        <p>
            You may have noticed that the image contains a few words in French.
            Unless you have set French as the default language, Audiveris will
            assume that the dominant language in the image is English. So let's
            select the French language for this score, through the <b>Score</b>
            menu and its <b>Set Parameters</b> item.
        </p>
        <p>
            <img src="../images/chula-set-parameters.png" alt="" title=
            "Setting score parameters" />
        </p>

        <p>
            This opens a dialog box about relevant score parameters. In the
            <b>Text</b> section, select the "<b>fra - French</b>" alternative.
            Notice also that you have the ability to make this selection as the
            default for any score from now on, simply by putting a mark in the
            checkbox.<br />
            You can ignore the other parameters for the time being, since their
            default values should be OK.
        </p>
        <p>
            <img src="../images/chula-parameters-init.png" alt="" title=
            "Score initial parameters" />

        </p>
        <!-- ====================== Automatic actions ====================== -->
        <h2>
            <a name="AUTOMATIC" id="AUTOMATIC">Automatic Actions</a>
        </h2>
        <h3>
            <a name="SCORE-STEP" id="SCORE-STEP">Let Audiveris work</a>
        </h3>

        <p>
            From the <b><i>Step</i></b> menu, directly select the
            <b><i>SCORE</i></b> step, as indicated below (the
            <b><i>LOAD</i></b> step has already been performed as indicated by
            the check mark, we want to go through all steps, down to the
            <b><i>SCORE</i></b> step):
        </p>

        <p>
            <img src="../images/chula-score-step.png" alt="" title=
            "Selecting the SCORE step" />
        </p>
        <p>
            Audiveris will execute all the steps until the selected one. The
            user interface will evolve in parallel to the final view as in
            following picture.
        </p>
        <p>
            Notice that the content of the Sheet view (the lower part of the
            display) has evolved:
        </p>
        <ul>

            <li>The staff lines have been erased and replaced by straight lines
            in the sheet display
            </li>
            <li>The barlines and the braces are displayed in light gray
            </li>
            <li>The stems are in green with a straight vertical segment line
            </li>
            <li>The other symbols are displayed in specific colors, which is a
            visual help to detect no recognition (red color) or wrong
            recognition (the color is not the one expected, something you'll
            need to get familiar with).
            </li>
        </ul>
        <p>
            You can have a look at the other tabs in the Sheet display:
        </p>

        <ul>
            <li>Picture: the original image
            </li>
            <li>Lines: focus on staff lines
            </li>
            <li>Horizontals: focus on horizontal segments, such as ledgers
            </li>
            <li>Systems: the identified systems
            </li>
            <li>Verticals: the stems
            </li>

            <li>Glyphs: the result of glyph extraction
            </li>
        </ul>
        <p>
            The upper part of the window displays a synthetic view of the
            resulting score, on an ivory background, as translated from the
            extracted glyphs. If you can't see this view, make sure it is not
            collapsed, by dragging down the split line located just above the
            tabs. In this Score view, you can dynamically switch between a
            vertical layout of the systems (one under the other, as in the
            sheet view) of a horizontal layout (one system next to the other).
        </p>
        <p>
            On the right side of the application display, there is a column of
            "boards", all with a title and a collapse / expand mechanism. The
            list of boards varies with the tab currently selected in the sheet
            view.
        </p>
        <p>

            <img src="../images/chula-score.png" alt="Image after processing"
            title="The display when all steps have been run" />
        </p>
        <p>
            In the picture above, the column of boards for the "Glyphs" tab as
            selected in the Sheet view presents from top to bottom:
        </p>
        <ol>
            <li>Pixel board: coordinates of the selected rectangle, and the
            pixel value read from the image.
            </li>
            <li>Run board: the selected run
            </li>

            <li>Section board: the selected section
            </li>
            <li>Glyph board: the selected glyph, with many details on key
            parameters, assigned shape, etc.
            </li>
            <li>Focus board: (here collapsed) to navigate through glyphs
            assigned to a given shape
            </li>
            <li>Neural board: the online evaluation of the selected glyph
            (notice that here a 2 is evaluated as a 3)
            </li>
            <li>Shapes board: the palette of shapes for drag and drop or direct
            shape assignment
            </li>
        </ol>

        <!-- ====================== Manual Corrections ===================== -->
        <h2>
            <a name="MANUAL" id="MANUAL">Manual Corrections</a>
        </h2>
        <div class="warningmessage">
            <b>Nota</b>: Your actual results may vary according to the
            environment, notably the value of the various application
            parameters (which can be viewed and modified in the Tools|Options
            window) or the training of the neural network.<br />
            And since the Audiveris program is constantly being improved, some
            of the manual corrections listed below may no longer be needed.
            Please consider them as examples only.
        </div>

        <h3>
            <a name="ERRORS" id="ERRORS">The errors window</a>
        </h3>
        <p>
            At the bottom of the application display, next to the log window,
            you should find the errors window similar to the following picture:
        </p>
        <p>
            <img src="../images/chula-errors.png" alt="Chula errors window"
            title="The sorted display of errors" />
        </p>

        <p>
            Nota, if you can't see it, make sure in the <b>Views</b> menu, that
            the item "<b>Display errors window</b>" is selected.
        </p>
        <p>
            <img src="../images/chula-display-errors.png" alt=
            "Displaying the errors window" title=
            "Selecting the display of errors window" />
        </p>
        <ul>

            <li>This window contains a list of the errors that the program has
            detected in the score. The list is sorted, and every error message
            begins with a context indication.
            </li>
            <li>For example, the first line says: <i>S1P1M7 [Glyph#318]
            Expected 3 chords for TUPLET_THREE</i>
                <ol>
                    <li>The location of the first message is here coded as
                    "<i>S1P1M7</i>" (System 1, Part 1, Measure 7).
                    </li>
                    <li>There is also a glyph reference: [Glyph#318]
                    </li>

                    <li>Finally the message itself
                    </li>
                </ol>
            </li>
            <li>For any error listed in this error pane, simply clicking on a
            message will move the current focus to where the program thinks the
            error is located. And for this focus, the score display and the
            sheet display are kept in sync.
            </li>
        </ul>
        <h3>
            <a name="WRONG-SYMBOLS" id="WRONG-SYMBOLS">Wrong symbols</a>

        </h3>
        <p>
            The first error message (Expected 3 chords for TUPLET_THREE) points
            to glyph #318, a character "3". The error stems from the fact that
            Audiveris has mistaken this character with a tuplet "3", and could
            not find the related three chords for this tuplet.
        </p>
        <p>
            <img src="../images/chula-tuplet-3.png" alt="Error on tuplet three"
            title="Source for tuplet error" />
        </p>
        <p>
            The correction is rather easy. We can simply deassign the symbol
            and let the program try to find another shape. The de-assignment
            can be triggered by pressing the <b>Deassign</b> button in the
            glyph board on the right side of the application window.
        </p>

        <p>
            This error message disappears from the error pane.
        </p>
        <p>
            You can notice that the program was unable to find another suitable
            shape for this symbol, since it is now displayed in red color.
            Notice also that the shape TUPLET_THREE is still listed at the top
            of the Neural Network suggestions, but the related button has a
            background colored in red, to indicate that this TUPLET_THREE shape
            is now "blacklisted" for this particular glyph. The program will
            never reassign this shape to the glyph, unless of course the user
            manually performs this assignment.
        </p>
        <p>
            Actually this "3" is part of "31", likely to be a page number,
            which has nothing to do with our sheet of music. Since the "1" is
            assigned the CLUTTER shape, let's do the same for the "3". This
            shape is not directly suggested in the top 5 of Neural Network, so
            we have to select the glyph, and with a right-click open a context
            popup menu, select "Assign glyph as ...", then select "Physicals"
            shapes and finally "CLUTTER".
        </p>
        <p>

            <img src="../images/chula-assign-clutter.png" alt=
            "Assigning CLUTTER shape" title=
            "Assigning the clutter shape to this glyph" />
        </p>
        <p>
            [Note that we could have skipped the "Deassign" action and directly
            "Assign" the final shape to this glyph. But this was a way to show
            an example of deassignment]
        </p>
        <h3>
            <a name="UNKNOWN-SYMBOLS" id="UNKNOWN-SYMBOLS">Unknown symbols</a>
        </h3>
        <p>

            The next message says <i>"S1P1M7 [] Voice #1 too long for Q/4"</i>
        </p>
        <p>
            This basically means that in the related measure, the total
            duration of the notes and rests that compose voice #1 is longer
            than the theoretical duration of the measure, and the delta
            represents the fourth of a quarter.
        </p>
        <p>
            This time there is no direct indication of a "guilty" glyph.
            Clicking on this message moves us to the middle of measure 7 (of
            part 1 in system 1).
        </p>
        <p>

            <img src="../images/chula-beam-hook.png" alt="Error on beam hook"
            title="Source for unrecognized beam hook" />
        </p>
        <p>
            We can see that there is a beam hook left unrecognized (since
            colored in red) in this measure.
        </p>
        <p>
            When selecting this glyph, the beam hook does not appear in the top
            5 suggestions. We could manually assign the shape, using a
            right-click, "Assign glyph as..." and walk through the hierarchy of
            shapes as we did previously.
        </p>
        <p>
            But we have another way, since there are other beam hooks in sight:
            we can make a "copy/paste" of the shape name.
        </p>

        <p>
            Select another beam hook (left click), and in the popup menu (right
            click), select the "Copy BEAM_HOOK" item.
        </p>
        <p>
            <img src="../images/chula-copy.png" alt="Copy a shape" title=
            "Copy a known beam hook" />
        </p>
        <p>
            Then select (left click) the red beam hook glyph we want to assign,
            and in the popup menu (right click), choose "Paste BEAM_HOOK"
        </p>
        <p>

            <img src="../images/chula-paste.png" alt="Paste a shape" title=
            "Paste the beam hook shape" />
        </p>
        <p>
            <span class="c1">Remark</span>: Yet another way to manually assign
            a shape to the selected glyph is to use the <span class="c1">Shape
            palette</span>.
        </p>
        <p>
            First open the range of Beam shapes:
        </p>

        <p>
            <img class="c2" alt="Beam ranges" src=
            "../images/beam-ranges.png" />
        </p>
        <p>
            and make a <span class="c1">double-click</span> on the beam hook
            shape:
        </p>
        <p>
            <img class="c3" alt="Beam hook shape" src=
            "../images/beam-hook-shape.png" />

        </p>
        <h3>
            <a name="UNKNOWN-SYMBOLS-CONT" id="UNKNOWN-SYMBOLS-CONT">Unknown
            symbols (2)</a>
        </h3>
        <p>
            The next message says <i>"S2P1M13] Voice #1 too long for 3Q/4"</i>
        </p>

        <p>
            The situation is similar to the previous error. Selecting this
            error moves us to the middle of measure 13 (of part 1 of system 2)
        </p>
        <p>
            <img src="../images/chula-sixteen.png" alt="Unrecognized shape"
            title="Unrecognized sixteen rest shape" />
        </p>
        <p>
            When we select the red glyph (a sixteenth rest), this time the
            SIXTEENTH_REST appears in the top 5. One click on the proper
            button, and the related shape is immediately assigned to the glyph
            at hand.
        </p>
        <p>

            You may have noted that in this top 5, the sixteen_rest shape was
            listed with a red foreground color, to indicate that the confidence
            was too low. Actually the program uses the inverse of confidence,
            let's say a doubt, whose value (1.295) is above an acceptance
            threshold. You can also notice how fast the doubt value increases
            even within the top 5 suggestions, which is typical of the behavior
            of a neural network.
        </p>
        <h3>
            <a name="MERGED-GLYPHS" id="MERGED-GLYPHS">Glyphs to be merged</a>
        </h3>
        <p>
            The errors pane is now empty. This does not mean there is no error
            left, but rather than the program has not detected any other error!
        </p>
        <p>

            Look for red-colored glyphs in the sheet display, they indicate an
            unrecognized glyph.
        </p>
        <p>
            There is one red glyph at the beginning of the score, it's a 2/4
            time signature.
        </p>
        <p>
            <img src="../images/chula-timesig.png" alt="Glyphs to merge" title=
            "Glyphs to merge" />
        </p>
        <p>
            There are actually two glyphs colored in red: the upper left part
            (glyph #302, as selected in the picture above) and the bulk of the
            2/4 signature (glyph #227).
        </p>

        <p>
            You can notice that, even though these glyphs have not been
            recognized, the score display contains the right 2/4 signature.
            This is due to a rather aggressive strategy related to time
            signatures, whereby a well-recognized timesig is "forwarded" to the
            other timesig locations. This is the reason why no error was
            signaled.
        </p>
        <p>
            For the sake of completeness (and also to show you a merge example
            ...), we'll however correct this glyph, by merging the two parts.
            To do this, either select the two glyphs one after the other (using
            the CTRL key when adding the second one), or use a "lasso" by
            dragging the mouse while pressing a SHIFT key (see following
            picture).
        </p>
        <p>
            <img src="../images/chula-lasso-timesig.png" alt=
            "Glyphs with a lasso" title="Using a lasso to select glyphs" />
        </p>
        <p>

            In both cases, a TIME_TWO_FOUR button should appear in the top 5.
            Simply press the button, and the proper compound glyph will be
            assigned this 2/4 shape.
        </p>
        <h3>
            <a name="SECTION-SPLIT" id="SECTION-SPLIT">Glyph to be split</a>
        </h3>
        <p>
            There is another red glyph around the lower right corner of the
            sheet. This glyph is composed of two symbols (a flag and an eighth
            rest) stucked together. Pixels that are horizontally or vertically
            connected define a glyph. Here, we need a way to split this large
            glyph into two parts.
        </p>
        <p>

            <img src="../images/chula-split.png" alt="Glyph to split" title=
            "Glyph to split" />
        </p>
        <p>
            A new feature of Audiveris is the ability to manually compose a
            glyph by selecting its desired sections, in the containing LAG.
        </p>
        <p>
            A short side note about LAG ((Line Adjacency Graph):
        </p>
        <ol>
            <li>A sequence of foreground pixels defines a "Run".
            </li>

            <li>Adjacent and compatible Runs define a "Section".
            </li>
            <li>And Sections are assembled into Glyphs.
            </li>
        </ol>
        <p>
            Normally, user selections are performed at <b>glyph</b> level. We
            can switch to selection at <b>section</b> level, in the
            <b>Views</b> menu, using the "<b>Enable section selection</b>"
            item. Only vertical sections can be selected for the time being. A
            more direct way is to use the toggle button, in the toolbar, which
            represents a bean.
        </p>

        <p>
            <img src="../images/chula-bean.png" alt="Section toggle button"
            title="Button to switch section / glyph" />
        </p>
        <p>
            In section-based selection mode (see next picture), note that all
            the section boundaries are made visible. Using the left mouse
            button, while pressing down the CTRL key, allows the user to select
            as many sections as desired.
        </p>
        <p>
            <img src="../images/chula-sections.png" alt="Sections" title=
            "Section boundaries" />
        </p>

        <p>
            Since sections are usually small, the selection gesture is a bit
            simplified: You don't even have to release the mouse button when
            moving from one section to the other, simply browse the sections as
            you would do with an eraser, and all the touched sections will be
            added to the selection in a "greedy" mode. To really remove a given
            section from the current selection, release the mouse button and
            press down the button again on the section to remove (always
            keeping the CTRL key down).
        </p>
        <p>
            Note, as you select the sections of the "eighth rest" portion of
            the glyph, that the Neural Network continuously tries to recognize
            a shape out of the selected sections. When you have selected all
            the sections that compose the eighth rest, the EIGHTH_REST button
            should appear in the top 5. Simply click on the related button, and
            the shape is assigned to a new glyph composed of the selected
            sections. [You can also, when your section selection is ready, use
            a right click to open the context popup menu and use the "Assign
            glyph as ..." item.]
        </p>
        <p>
            Immediately, the remaining part of the former "big" glyph is
            recognized as a flag.
        </p>
        <p>

            <img src="../images/chula-split-section.png" alt=
            "Section recognized" title="Sections recognized" />
        </p>
        <p>
            You can switch back to the normal glyph-level selection mode
        </p>
        <p>
            <img src="../images/chula-split-glyph.png" alt="Glyph split" title=
            "Glyph split" />
        </p>
        <h3>

            <a name="VIRTUAL-GLYPH" id="VIRTUAL-GLYPH">Glyph to be inserted</a>
        </h3>
        <p>
            In the section above, we have been lucky that the separation line
            between the two glyphs could be found by aggregating sections. But
            these splits on section borders are not always satisfactory. In
            that case, the solution is to inject (create) the needed glyphs
            directly into the structure.
        </p>
        <p>
            For the sake of example, let's suppose that the split above had not
            been performed. So, we still have this big glyph instead of clearly
            separated flag glyph and eighth rest glyph. So we'll inject them.
        </p>
        <p>

            In the shape palette, we first select the range dedicated to flags,
            and then drag the suitable flag shape from the palette to either
            the sheet view or the score view. In the picture below, you can see
            the ghost image of the flag being dragged to the sheet view
        </p>
        <p>
            <img class="c4" alt="dragged flag" src=
            "../images/chula-dragged-flag.png" />
        </p>
        <p>
            We pay attention to correctly position the flag along the stem ...
        </p>
        <p>
            <img class="c5" alt="dropped flag" src=
            "../images/chula-dropped-flag.png" />

        </p>
        <p>
            ... we release the mouse button, and here we are:
        </p>
        <p>
            <img class="c6" alt="Virtual flag" src=
            "../images/chula-virtual-flag.png" />
        </p>
        <p>
            We do the similar action for the eighth rest, and the final result
            is the following:
        </p>

        <p>
            <img class="c7" alt="Virtual glyphs" src=
            "../images/chula-virtual-glyphs.png" />
        </p>
        <p>
            Just a couple of remarks:
        </p>
        <ul>
            <li>For certain shapes, like the flag, it is important to position
            the glyph with a rather good precision, otherwise the distance
            between the stem and this flag may be larger than the tolerated
            margin, and the stem and the flag will not be recognized as
            connected.
            </li>
            <li>For the time being, the DnD is rudimentary: once a glyph has
            been dropped, it cannot be moved. The only workaround is to delete
            this virtual glyph (by deassigning it) and reperform the DnD.
            </li>

            <li>Another current limitation is that there is yet no way to
            resize a virtual glyph. So DnD does not really work for such shapes
            as beams, slurs, crescendos, descrescendos, ... These moving /
            resizing features are postponed until we integrate a more powerful
            way to play with glyphs and shape display (certainly the NetBeans
            Visual Lib)
            </li>
        </ul>
        <h3>
            <a name="TEXTS" id="TEXTS">Texts not correctly OCR'ed</a>
        </h3>
        <p>
            The recognition of textual glyphs is delegated to a companion tool,
            the Tesseract OCR engine. No tool is 100% perfect and Google makes
            no exception here...
        </p>

        <p>
            The word "propose" (glyph #714) has been OCR'ed as something like
            "pI'Op0 SC", even though we had selected the right language for the
            score. We are left with manually forcing the text content:
        </p>
        <ol>
            <li>Select the glyph with a left-button click in the Sheet display.
            </li>
            <li>The column on the right side of the application window is
            dedicated to a series of boards arranged in a vertical sequence
            (Pixel, Run, Section, Glyph, Focus, Neural). Use the Glyph board to
            enter the proper content for this glyph (validate by pressing
            Enter) and select Direction as the role for this piece of text.
            </li>
        </ol>
        <p>

            Remark: If you select the two lines of glyphs ("propose" and
            "Fl&ucirc;te et guitare") and assign it as a whole to the TEXT
            shape, the OCR engine will 1/ detect the two lines and 2/ correctly
            recognize the text of each line.
        </p>
        <p>
            A text glyph, even with proper content, needs to be assigned a
            "role" (direction, title, creator, etc) to be translated to a score
            entity. Otherwise, it will appear in the score display, but with a
            gray color, and will not be exported into the XML output. For the
            "creator" role, an additional type information is to be provided
            (composer, lyricist, ...).
        </p>
        <p>
            <img src="../images/chula-text.png" alt="Correcting text content"
            title="The board for glyph parameters" />
        </p>
        <p>

            Also, on the upper right side of the sheet, the notation "Danse
            br&Atilde;&copy;silienne" (glyph #720) has been OCR'ed as "Dzmse
            br&Atilde;&copy;silienne". Once again, just correct the text
            content in the glyph board, validate by pressing the Enter key, and
            the modification is done.
        </p>
        <!-- ============================ Script =========================== -->
        <h2>
            <a name="SCRIPT" id="SCRIPT">Script</a>
        </h2>
        <h3>
            <a name="SCRIPT_WRITING" id="SCRIPT_WRITING">Script writing</a>

        </h3>
        <p>
            You can decide to store the script of your user actions related to
            'chula' sheet, by selecting the <b><i>Store script</i></b> item in
            the <b><i>Sheet</i></b> menu.
        </p>
        <p>
            Select the location, and your script is written by default as
            <b>chula.script.xml</b> file.
        </p>

        <p>
            Note that, unless you have set the application constant
            script.ScriptActions.closeConfirmation to false in the
            Tools|Options menu, if you close the current sheet without saving
            your script first you will be asked for saving the related script
            of your actions:
        </p>
        <p>
            <img src="../images/chula-script.png" alt="Script prompt" title=
            "Script prompt" />
        </p>
        <p>
            Here is the content of <b>chula.script.xml</b>:
        </p><script type="text/javascript">
//<![CDATA[
        document.write("<iframe src='chula.script.xml.html' width='100%' height='200' frameborder='1'><\/iframe>");
        //]]>
        </script>

        <h3>
            <a name="SCRIPT_REPLAY" id="SCRIPT_REPLAY">Script replay</a>
        </h3>
        <p>
            You can replay any script, by simply selecting the <b><i>Open
            script</i></b> item in the <b><i>Sheet</i></b> menu, and choosing a
            script file.
        </p>

        <p>
            For example, just choose the script you've just stored, and watch
            'chula' image be reloaded, the various steps performed, and the
            series of your manual actions done again. From that point on, you
            can make additional actions through the user interface, these
            actions will be added at the end of the sheet script. It's a
            convenient way to work again on a previous session for example.
        </p>
        <p>
            If you are curious, have a look at the 'chula.script.xml' file,
            which is a simple xml file where all your actions are easily
            recognized. Note that glyphs are defined only by the set of their
            member sections.
        </p>
        <!-- ======================== Output Actions ======================= -->
        <h2>
            <a name="OUTPUT" id="OUTPUT">Output</a>

        </h2>
        <h3>
            <a name="PARAMETERS" id="PARAMETERS">Score Parameters</a>
        </h3>
        <p>
            In order to write down the score using MusicXML format, or to play
            or write Midi information, the score needs some global information
            to be assigned beforehand. The user is prompted for these
            parameters through the following dialog window:
        </p>
        <p>
            <img alt="" title="Score parameters" src=
            "../images/chula-parameters.png" />

        </p>
        <ul>
            <li>Text data, to specify the score language, as already seen at
            the beginning of this example. Note that changing the score
            language at this point in time is still possible, all the textual
            glyphs whose language was different from the newly selected
            language will get re-OCR'ed, unless of course they had been
            manually assigned a content by the user.
            </li>
            <li>Midi data, to specify the tempo in quarters per minute, then
            the volume in the range 0..127
            </li>
            <li>A series of data, part by part, where you can read and/or
            assign part parameters: the part Id (non editable), a part name and
            a Midi instrument.
            </li>
            <li>Finally, the ability to define precisely a range of measure to
            be played. If no selection is defined, the whole score will be
            played by default.
            </li>
        </ul>

        <p>
            Note that there are generally acceptable values for all the fields.
        </p><!--
<p>
This dialog is shown only the first time the score is used for some
output, unless the constant "<i>promptParameters</i>" in unit
"<i>score/ui/ScoreActions</i>" is set to false. It can always be
explicitly opened from the <b><i>Score</i></b> menu by selecting
the <b><i>Set parameters</i></b> menu item.
</p>
-->
        <h3>
            <a name="WRITING" id="WRITING">Score writing</a>
        </h3>
        <p>
            If we are rather satisfied with the final translation, we can write
            the result into a MusicXML file.
        </p>

        <p>
            In the <b><i>Score</i></b> menu, we select the <b><i>Store in
            Xml</i></b> item which presents a dialog box to choose a target
            file.
        </p>
        <p>
            We finally click on the <b><i>Record</i></b> button, et voila!
        </p>

        <p>
            Here is the content of <b>chula.xml</b>:
        </p><script type="text/javascript">
//<![CDATA[
        document.write("<iframe src='chula.xml.html' width='100%' height='200' frameborder='1'><\/iframe>");
        //]]>
        </script>
        <h3>
            <a name="PLAY" id="PLAY">Midi Playback</a>
        </h3>
        <p>

            There is now a simple MusicXML/Midi interface, a Java open source
            program named XenoPlay (see the <a href=
            "http://www.xenoage.com/player/">XenoPlay website</a>), embedded
            within Audiveris. It allows a simple playback of the score through
            the platform Midi engine, as well as the writing of Midi files.
        </p>
        <p>
            All Midi features are available in the <b>Midi</b> menu, only the
            playback is directly callable from the tool bar:<br />
            <img title="Icons for Play/Pause &amp; Stop" alt="" src=
            "../images/chula-midi-play.png" />
        </p>

        <p>
            The playback is driven from a separated console, as displayed in
            the following picture:
        </p>
        <p>
            <img class="c8" alt="Zong Console" src=
            "../images/chula-Zong.png" />
        </p>
        <p>
            Using the buttons at the bottom of this console, you can
            start/restart the playback, pause, stop, modify the volume, access
            audio settings and display score informations.
        </p>
        <p>

            During the playback, the Score display is kept in sync, using a
            moving (violet) vertical bar on the current time slot:<br />
            <img alt="" title="Time slot highlighted while playing" src=
            "../images/chula-midi-playing.png" />
        </p>
        <p>
            You can play the whole score or just a specific measure range of
            the score. The selected range can be defined through the score
            parameters dialog.
        </p>
        <p>
            You can also point in the Score display with a right-click on a
            specific measure and in the popup menu, select the "Play measure"
            item as shown in the picture below. This is a contextual menu which
            shows the selected measure, information about the selected slot in
            the measure, and possibly the selected chord(s) and voice(s) in the
            slot.
        </p>

        <p>
            <img src="../images/chula-measure-play.png" alt=
            "Playing a measure" />
        </p>
        <h3>
            <a name="WRITE_MIDI" id="WRITE_MIDI">Writing Midi</a>
        </h3>
        <p>
            Writing MIDI information into a Midi file is available through the
            <b>Midi</b> menu, using the <b>Store in Midi</b> menu item.
        </p>

        <p>
            You are prompted for selecting an output file, and the Midi
            information is written using Midi format 1.
        </p>
        <!-- ======================= External Actions ====================== -->
        <h2>
            <a name="EXTERNAL" id="EXTERNAL">External</a>
        </h2>
        <h3>
            <a name="FINALE" id="FINALE">Connecting Finale</a>

        </h3>
        <p>
            We can simply connect another tool, thanks to the emerging MusicXML
            standard. For example you can download a free demo version of
            Finale 2010, which among other features correctly handles the
            repeat signs, and more.
        </p>
        <p>
            Within Finale application, in the <b><i>File</i></b> menu, use its
            <b><i>Music XML</i></b> | <b><i>Import</i></b> item, and get a
            display of our score. Then, press <b><i>Play</i></b> button, and
            listen!
        </p>

        <p>
            <img src="../images/chula-finale.png" alt="Finale window" title=
            "Finale on Chula" />
        </p>
    </body>
</html>
